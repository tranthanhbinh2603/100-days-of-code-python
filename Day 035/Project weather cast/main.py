from requests import *
from twilio.rest import Client #Thư viện SMS


API_KEY = '69f04e4613056b159c2761a9d9e664d2'
#Key của tài khoản Angela: 69f04e4613056b159c2761a9d9e664d2
LAT = 11.225380
LON = 107.292160

#Vào https://openweathermap.org/home/sign_in, đăng kí tài khoản
#Đăng kí thành công, vào https://home.openweathermap.org/api_keys để lấy api key. Đặt tên tuỳ thich nếu cần
#Lưu ý: Key muốn kích hoạt vui lòng đợi 1 khoảng thời gian.

#Api sử dụng trong bài:
#https://openweathermap.org/current

#https://api.openweathermap.org/data/2.5/weather?lat={lat}&lon={lon}&appid={API key}
#Exam: https://api.openweathermap.org/data/2.5/weather?lat=11.225380&lon=107.292160&appid=69f04e4613056b159c2761a9d9e664d2
#Nếu ra lỗi 401 là lỗi authen

#http://jsonviewer.stack.hu/


#Dùng twillo
#https://www.twilio.com/try-twilio
#https://www.twilio.com/docs/sms/quickstart/python

#Lấy Api:
#Đăng nhập, vào https://console.twilio.com/us1/console?frameUrl=/console
#Chọn Get a trial phone number
#Lấy 2 mã Account SID và Auth Token
def SendSMS():
    account_sid = 'AC6039a7fe299031fb85f652d3a9b40515'
    auth_token = '6457d2bcc2977d22b00012b37ad110f5'
    client = Client(account_sid, auth_token)

    message = client.messages \
        .create(
        body="Join Earth's mightiest heroes. Like Kevin Bacon.",
        from_='+13857072715',
        to='+84352863102'
    )

    print(message.sid)

#Thử thách: https://openweathermap.org/api/one-call-api
#https://api.openweathermap.org/data/2.5/onecall?lat={lat}&lon={lon}&exclude={part}&appid={API key}

parameter = {
    'lat': LAT,
    'lon': LON,
    'exclude': 'current,minutely,daily,alerts', #Tài khoản miễn phí cho hourly thì phải
    'appid': API_KEY
}

#print(get('https://api.openweathermap.org/data/2.5/onecall', params=parameter).json())
#data = get('https://api.openweathermap.org/data/2.5/onecall', params=parameter).json()
data = {'lat': 11.2254, 'lon': 107.2922, 'timezone': 'Asia/Ho_Chi_Minh', 'timezone_offset': 25200, 'hourly': [{'dt': 1665234000, 'temp': 296.34, 'feels_like': 297.25, 'pressure': 1013, 'humidity': 97, 'dew_point': 295.84, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 1.14, 'wind_deg': 346, 'wind_gust': 1.76, 'weather': [{'id': 500, 'main': 'Rain', 'description': 'light rain', 'icon': '10n'}], 'pop': 0.96, 'rain': {'1h': 0.81}}, {'dt': 1665237600, 'temp': 296.3, 'feels_like': 297.23, 'pressure': 1013, 'humidity': 98, 'dew_point': 295.97, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 1.28, 'wind_deg': 2, 'wind_gust': 2.05, 'weather': [{'id': 501, 'main': 'Rain', 'description': 'moderate rain', 'icon': '10n'}], 'pop': 0.91, 'rain': {'1h': 1.54}}, {'dt': 1665241200, 'temp': 296.31, 'feels_like': 297.24, 'pressure': 1013, 'humidity': 98, 'dew_point': 295.98, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 1.08, 'wind_deg': 333, 'wind_gust': 2.05, 'weather': [{'id': 501, 'main': 'Rain', 'description': 'moderate rain', 'icon': '10n'}], 'pop': 0.96, 'rain': {'1h': 2.05}}, {'dt': 1665244800, 'temp': 296.29, 'feels_like': 297.22, 'pressure': 1013, 'humidity': 98, 'dew_point': 295.96, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 1.03, 'wind_deg': 346, 'wind_gust': 1.4, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0.72}, {'dt': 1665248400, 'temp': 296.24, 'feels_like': 297.16, 'pressure': 1012, 'humidity': 98, 'dew_point': 295.91, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 0.96, 'wind_deg': 356, 'wind_gust': 1.17, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0.89}, {'dt': 1665252000, 'temp': 296.16, 'feels_like': 297.08, 'pressure': 1011, 'humidity': 98, 'dew_point': 295.83, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 0.98, 'wind_deg': 6, 'wind_gust': 1.2, 'weather': [{'id': 500, 'main': 'Rain', 'description': 'light rain', 'icon': '10n'}], 'pop': 0.84, 'rain': {'1h': 0.16}}, {'dt': 1665255600, 'temp': 296.05, 'feels_like': 296.98, 'pressure': 1010, 'humidity': 99, 'dew_point': 295.63, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 1.32, 'wind_deg': 351, 'wind_gust': 2.64, 'weather': [{'id': 500, 'main': 'Rain', 'description': 'light rain', 'icon': '10n'}], 'pop': 0.33, 'rain': {'1h': 0.84}}, {'dt': 1665259200, 'temp': 296.1, 'feels_like': 297.01, 'pressure': 1010, 'humidity': 98, 'dew_point': 295.57, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 0.99, 'wind_deg': 7, 'wind_gust': 1.84, 'weather': [{'id': 500, 'main': 'Rain', 'description': 'light rain', 'icon': '10n'}], 'pop': 0.37, 'rain': {'1h': 0.19}}, {'dt': 1665262800, 'temp': 295.97, 'feels_like': 296.87, 'pressure': 1010, 'humidity': 98, 'dew_point': 295.43, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 0.81, 'wind_deg': 356, 'wind_gust': 0.88, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0.36}, {'dt': 1665266400, 'temp': 295.83, 'feels_like': 296.71, 'pressure': 1011, 'humidity': 98, 'dew_point': 295.26, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 0.75, 'wind_deg': 357, 'wind_gust': 0.82, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0.36}, {'dt': 1665270000, 'temp': 295.87, 'feels_like': 296.76, 'pressure': 1012, 'humidity': 98, 'dew_point': 295.21, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 0.65, 'wind_deg': 359, 'wind_gust': 0.73, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04d'}], 'pop': 0.36}, {'dt': 1665273600, 'temp': 297.11, 'feels_like': 298.04, 'pressure': 1012, 'humidity': 95, 'dew_point': 295.96, 'uvi': 0.1, 'clouds': 100, 'visibility': 10000, 'wind_speed': 0.89, 'wind_deg': 352, 'wind_gust': 1.63, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04d'}], 'pop': 0.32}, {'dt': 1665277200, 'temp': 298.71, 'feels_like': 299.62, 'pressure': 1013, 'humidity': 88, 'dew_point': 296.31, 'uvi': 0.68, 'clouds': 100, 'visibility': 10000, 'wind_speed': 1.01, 'wind_deg': 343, 'wind_gust': 1.66, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04d'}], 'pop': 0}, {'dt': 1665280800, 'temp': 301.38, 'feels_like': 305.02, 'pressure': 1013, 'humidity': 75, 'dew_point': 296.28, 'uvi': 1.55, 'clouds': 100, 'visibility': 10000, 'wind_speed': 0.81, 'wind_deg': 325, 'wind_gust': 1.25, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04d'}], 'pop': 0.05}, {'dt': 1665284400, 'temp': 303.91, 'feels_like': 308.23, 'pressure': 1012, 'humidity': 63, 'dew_point': 295.85, 'uvi': 2.53, 'clouds': 99, 'visibility': 10000, 'wind_speed': 0.66, 'wind_deg': 261, 'wind_gust': 0.76, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04d'}], 'pop': 0.09}, {'dt': 1665288000, 'temp': 305.29, 'feels_like': 309.95, 'pressure': 1011, 'humidity': 58, 'dew_point': 295.68, 'uvi': 6.99, 'clouds': 96, 'visibility': 10000, 'wind_speed': 0.89, 'wind_deg': 221, 'wind_gust': 0.94, 'weather': [{'id': 500, 'main': 'Rain', 'description': 'light rain', 'icon': '10d'}], 'pop': 0.38, 'rain': {'1h': 0.11}}, {'dt': 1665291600, 'temp': 305.43, 'feels_like': 310.26, 'pressure': 1010, 'humidity': 58, 'dew_point': 295.84, 'uvi': 7.48, 'clouds': 97, 'visibility': 10000, 'wind_speed': 1.29, 'wind_deg': 180, 'wind_gust': 1.25, 'weather': [{'id': 500, 'main': 'Rain', 'description': 'light rain', 'icon': '10d'}], 'pop': 0.42, 'rain': {'1h': 0.34}}, {'dt': 1665295200, 'temp': 304.6, 'feels_like': 309.25, 'pressure': 1009, 'humidity': 61, 'dew_point': 295.96, 'uvi': 6.67, 'clouds': 97, 'visibility': 10000, 'wind_speed': 1.97, 'wind_deg': 180, 'wind_gust': 1.51, 'weather': [{'id': 500, 'main': 'Rain', 'description': 'light rain', 'icon': '10d'}], 'pop': 0.58, 'rain': {'1h': 0.52}}, {'dt': 1665298800, 'temp': 301.4, 'feels_like': 306.4, 'pressure': 1008, 'humidity': 83, 'dew_point': 297.88, 'uvi': 6.99, 'clouds': 97, 'visibility': 8261, 'wind_speed': 1.32, 'wind_deg': 183, 'wind_gust': 2.36, 'weather': [{'id': 501, 'main': 'Rain', 'description': 'moderate rain', 'icon': '10d'}], 'pop': 0.94, 'rain': {'1h': 1.43}}, {'dt': 1665302400, 'temp': 300.68, 'feels_like': 304.62, 'pressure': 1008, 'humidity': 84, 'dew_point': 297.55, 'uvi': 3.96, 'clouds': 99, 'visibility': 10000, 'wind_speed': 0.73, 'wind_deg': 195, 'wind_gust': 1.39, 'weather': [{'id': 501, 'main': 'Rain', 'description': 'moderate rain', 'icon': '10d'}], 'pop': 0.98, 'rain': {'1h': 2.1}}, {'dt': 1665306000, 'temp': 298.95, 'feels_like': 299.91, 'pressure': 1008, 'humidity': 89, 'dew_point': 296.8, 'uvi': 1.54, 'clouds': 99, 'visibility': 6809, 'wind_speed': 0.66, 'wind_deg': 159, 'wind_gust': 1.02, 'weather': [{'id': 501, 'main': 'Rain', 'description': 'moderate rain', 'icon': '10d'}], 'pop': 0.98, 'rain': {'1h': 3.04}}, {'dt': 1665309600, 'temp': 298.06, 'feels_like': 299.01, 'pressure': 1009, 'humidity': 92, 'dew_point': 296.34, 'uvi': 0.22, 'clouds': 99, 'visibility': 10000, 'wind_speed': 0.77, 'wind_deg': 145, 'wind_gust': 1.02, 'weather': [{'id': 501, 'main': 'Rain', 'description': 'moderate rain', 'icon': '10d'}], 'pop': 0.98, 'rain': {'1h': 1.78}}, {'dt': 1665313200, 'temp': 297.72, 'feels_like': 298.66, 'pressure': 1010, 'humidity': 93, 'dew_point': 296.25, 'uvi': 0, 'clouds': 99, 'visibility': 10000, 'wind_speed': 0.45, 'wind_deg': 115, 'wind_gust': 0.56, 'weather': [{'id': 500, 'main': 'Rain', 'description': 'light rain', 'icon': '10n'}], 'pop': 0.98, 'rain': {'1h': 0.22}}, {'dt': 1665316800, 'temp': 297.49, 'feels_like': 298.43, 'pressure': 1011, 'humidity': 94, 'dew_point': 296.13, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 0.6, 'wind_deg': 73, 'wind_gust': 0.68, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0.78}, {'dt': 1665320400, 'temp': 297.24, 'feels_like': 298.16, 'pressure': 1012, 'humidity': 94, 'dew_point': 296.04, 'uvi': 0, 'clouds': 100, 'visibility': 10000, 'wind_speed': 0.65, 'wind_deg': 61, 'wind_gust': 0.79, 'weather': [{'id': 500, 'main': 'Rain', 'description': 'light rain', 'icon': '10n'}], 'pop': 0.83, 'rain': {'1h': 0.14}}, {'dt': 1665324000, 'temp': 297.09, 'feels_like': 298.02, 'pressure': 1013, 'humidity': 95, 'dew_point': 295.97, 'uvi': 0, 'clouds': 99, 'visibility': 10000, 'wind_speed': 0.29, 'wind_deg': 63, 'wind_gust': 0.44, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0.84}, {'dt': 1665327600, 'temp': 296.84, 'feels_like': 297.77, 'pressure': 1013, 'humidity': 96, 'dew_point': 295.91, 'uvi': 0, 'clouds': 98, 'visibility': 10000, 'wind_speed': 0.17, 'wind_deg': 121, 'wind_gust': 0.4, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0.77}, {'dt': 1665331200, 'temp': 296.85, 'feels_like': 297.78, 'pressure': 1012, 'humidity': 96, 'dew_point': 295.99, 'uvi': 0, 'clouds': 97, 'visibility': 10000, 'wind_speed': 0.25, 'wind_deg': 77, 'wind_gust': 0.45, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0.7}, {'dt': 1665334800, 'temp': 296.79, 'feels_like': 297.72, 'pressure': 1012, 'humidity': 96, 'dew_point': 295.92, 'uvi': 0, 'clouds': 98, 'visibility': 10000, 'wind_speed': 0.38, 'wind_deg': 345, 'wind_gust': 0.39, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04n'}], 'pop': 0.7}, {'dt': 1665338400, 'temp': 296.63, 'feels_like': 297.57, 'pressure': 1011, 'humidity': 97, 'dew_point': 295.9, 'uvi': 0, 'clouds': 98, 'visibility': 10000, 'wind_speed': 0.66, 'wind_deg': 327, 'wind_gust': 0.69, 'weather': [{'id': 500, 'main': 'Rain', 'description': 'light rain', 'icon': '10n'}], 'pop': 0.7, 'rain': {'1h': 0.53}}, {'dt': 1665342000, 'temp': 296.27, 'feels_like': 297.2, 'pressure': 1010, 'humidity': 98, 'dew_point': 295.7, 'uvi': 0, 'clouds': 96, 'visibility': 6655, 'wind_speed': 0.65, 'wind_deg': 340, 'wind_gust': 0.71, 'weather': [{'id': 501, 'main': 'Rain', 'description': 'moderate rain', 'icon': '10n'}], 'pop': 0.82, 'rain': {'1h': 2.1}}, {'dt': 1665345600, 'temp': 296.19, 'feels_like': 297.11, 'pressure': 1010, 'humidity': 98, 'dew_point': 295.73, 'uvi': 0, 'clouds': 98, 'visibility': 10000, 'wind_speed': 0.64, 'wind_deg': 345, 'wind_gust': 0.71, 'weather': [{'id': 500, 'main': 'Rain', 'description': 'light rain', 'icon': '10n'}], 'pop': 0.93, 'rain': {'1h': 0.93}}, {'dt': 1665349200, 'temp': 296.2, 'feels_like': 297.12, 'pressure': 1011, 'humidity': 98, 'dew_point': 295.64, 'uvi': 0, 'clouds': 99, 'visibility': 10000, 'wind_speed': 0.52, 'wind_deg': 340, 'wind_gust': 0.57, 'weather': [{'id': 500, 'main': 'Rain', 'description': 'light rain', 'icon': '10n'}], 'pop': 0.93, 'rain': {'1h': 0.65}}, {'dt': 1665352800, 'temp': 296.09, 'feels_like': 297, 'pressure': 1011, 'humidity': 98, 'dew_point': 295.51, 'uvi': 0, 'clouds': 99, 'visibility': 10000, 'wind_speed': 0.65, 'wind_deg': 318, 'wind_gust': 0.96, 'weather': [{'id': 501, 'main': 'Rain', 'description': 'moderate rain', 'icon': '10n'}], 'pop': 0.96, 'rain': {'1h': 1.1}}, {'dt': 1665356400, 'temp': 296.07, 'feels_like': 296.98, 'pressure': 1012, 'humidity': 98, 'dew_point': 295.55, 'uvi': 0, 'clouds': 99, 'visibility': 5178, 'wind_speed': 0.67, 'wind_deg': 32, 'wind_gust': 0.92, 'weather': [{'id': 501, 'main': 'Rain', 'description': 'moderate rain', 'icon': '10d'}], 'pop': 0.99, 'rain': {'1h': 1.91}}, {'dt': 1665360000, 'temp': 296.04, 'feels_like': 296.97, 'pressure': 1013, 'humidity': 99, 'dew_point': 295.55, 'uvi': 0.55, 'clouds': 99, 'visibility': 6335, 'wind_speed': 1.26, 'wind_deg': 58, 'wind_gust': 1.59, 'weather': [{'id': 501, 'main': 'Rain', 'description': 'moderate rain', 'icon': '10d'}], 'pop': 0.96, 'rain': {'1h': 2.36}}, {'dt': 1665363600, 'temp': 296.37, 'feels_like': 297.31, 'pressure': 1013, 'humidity': 98, 'dew_point': 295.79, 'uvi': 2.24, 'clouds': 100, 'visibility': 10000, 'wind_speed': 0.88, 'wind_deg': 29, 'wind_gust': 1.56, 'weather': [{'id': 501, 'main': 'Rain', 'description': 'moderate rain', 'icon': '10d'}], 'pop': 0.63, 'rain': {'1h': 1.16}}, {'dt': 1665367200, 'temp': 296.81, 'feels_like': 297.76, 'pressure': 1014, 'humidity': 97, 'dew_point': 296.02, 'uvi': 5.1, 'clouds': 100, 'visibility': 10000, 'wind_speed': 0.73, 'wind_deg': 20, 'wind_gust': 1.35, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04d'}], 'pop': 0.76}, {'dt': 1665370800, 'temp': 298.55, 'feels_like': 299.5, 'pressure': 1013, 'humidity': 90, 'dew_point': 296.58, 'uvi': 8.34, 'clouds': 100, 'visibility': 10000, 'wind_speed': 1.53, 'wind_deg': 307, 'wind_gust': 3.43, 'weather': [{'id': 804, 'main': 'Clouds', 'description': 'overcast clouds', 'icon': '04d'}], 'pop': 0.76}, {'dt': 1665374400, 'temp': 300.56, 'feels_like': 303.94, 'pressure': 1012, 'humidity': 81, 'dew_point': 296.8, 'uvi': 5.46, 'clouds': 100, 'visibility': 10000, 'wind_speed': 2.21, 'wind_deg': 288, 'wind_gust': 3.32, 'weather': [{'id': 500, 'main': 'Rain', 'description': 'light rain', 'icon': '10d'}], 'pop': 0.96, 'rain': {'1h': 0.56}}, {'dt': 1665378000, 'temp': 301.01, 'feels_like': 304.9, 'pressure': 1011, 'humidity': 80, 'dew_point': 296.99, 'uvi': 5.84, 'clouds': 99, 'visibility': 7822, 'wind_speed': 2.47, 'wind_deg': 277, 'wind_gust': 3.39, 'weather': [{'id': 501, 'main': 'Rain', 'description': 'moderate rain', 'icon': '10d'}], 'pop': 0.96, 'rain': {'1h': 1.11}}, {'dt': 1665381600, 'temp': 300.18, 'feels_like': 303.65, 'pressure': 1010, 'humidity': 87, 'dew_point': 297.66, 'uvi': 5.21, 'clouds': 99, 'visibility': 7490, 'wind_speed': 2.43, 'wind_deg': 267, 'wind_gust': 3.39, 'weather': [{'id': 501, 'main': 'Rain', 'description': 'moderate rain', 'icon': '10d'}], 'pop': 1, 'rain': {'1h': 1.72}}, {'dt': 1665385200, 'temp': 299.73, 'feels_like': 299.73, 'pressure': 1010, 'humidity': 89, 'dew_point': 297.62, 'uvi': 5.48, 'clouds': 100, 'visibility': 10000, 'wind_speed': 2.48, 'wind_deg': 262, 'wind_gust': 3.83, 'weather': [{'id': 501, 'main': 'Rain', 'description': 'moderate rain', 'icon': '10d'}], 'pop': 1, 'rain': {'1h': 1.53}}, {'dt': 1665388800, 'temp': 298.73, 'feels_like': 299.77, 'pressure': 1009, 'humidity': 93, 'dew_point': 297.2, 'uvi': 3.1, 'clouds': 100, 'visibility': 10000, 'wind_speed': 2.05, 'wind_deg': 257, 'wind_gust': 4.05, 'weather': [{'id': 501, 'main': 'Rain', 'description': 'moderate rain', 'icon': '10d'}], 'pop': 1, 'rain': {'1h': 1.58}}, {'dt': 1665392400, 'temp': 297.44, 'feels_like': 298.43, 'pressure': 1009, 'humidity': 96, 'dew_point': 296.5, 'uvi': 1.21, 'clouds': 100, 'visibility': 5378, 'wind_speed': 1.71, 'wind_deg': 258, 'wind_gust': 4.51, 'weather': [{'id': 501, 'main': 'Rain', 'description': 'moderate rain', 'icon': '10d'}], 'pop': 1, 'rain': {'1h': 2.34}}, {'dt': 1665396000, 'temp': 296.82, 'feels_like': 297.78, 'pressure': 1010, 'humidity': 97, 'dew_point': 296.1, 'uvi': 0.1, 'clouds': 100, 'visibility': 3920, 'wind_speed': 1.47, 'wind_deg': 250, 'wind_gust': 4.32, 'weather': [{'id': 501, 'main': 'Rain', 'description': 'moderate rain', 'icon': '10d'}], 'pop': 1, 'rain': {'1h': 3.27}}, {'dt': 1665399600, 'temp': 296.5, 'feels_like': 297.45, 'pressure': 1011, 'humidity': 98, 'dew_point': 295.9, 'uvi': 0, 'clouds': 100, 'visibility': 6646, 'wind_speed': 1.26, 'wind_deg': 239, 'wind_gust': 3.65, 'weather': [{'id': 501, 'main': 'Rain', 'description': 'moderate rain', 'icon': '10n'}], 'pop': 1, 'rain': {'1h': 3.53}}, {'dt': 1665403200, 'temp': 296.32, 'feels_like': 297.25, 'pressure': 1012, 'humidity': 98, 'dew_point': 295.78, 'uvi': 0, 'clouds': 100, 'visibility': 6081, 'wind_speed': 1.09, 'wind_deg': 225, 'wind_gust': 3.45, 'weather': [{'id': 501, 'main': 'Rain', 'description': 'moderate rain', 'icon': '10n'}], 'pop': 1, 'rain': {'1h': 2.79}}]}
#print(data)

#Chỉ dùng dữ liệu trong vòng 12 giờ đầu
#Trong trường weather -> 0 -> ID có mã.
#Tra mã tại: https://openweathermap.org/weather-conditions#Weather-Condition-Codes-2
#Địa điểm có mưa tại: https://www.ventusky.com/

#Sử dụng: Slice và mã id < 700 có nghĩa là báo thôi.
data_12_hour = data['hourly'][0:12]
for i in range(0, 12):
    if data_12_hour[i]['weather'][0]['id'] < 700:
        SendSMS()
        break
#Or:
# for hour in data_12_hour:
#     if hour['weather'][0]['id'] < 700:
#         print('Bring the Umbrella')
#         break

#Chạy mỗi 7 giờ sáng tại https://www.pythonanywhere.com/
#Sửa lỗi chạy sms: https://help.pythonanywhere.com/pages/TwilioBehindTheProxy/

#Them API kham pha: https://apilist.fun/






